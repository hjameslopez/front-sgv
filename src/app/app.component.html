<app-login *ngIf="router.url === '/login'"></app-login>

<div *ngIf="router.url !== '/login'" class="app">
<!--  AUTENTICADO-->
  <div *ngIf="isAuthenticated()">
    <header>

      <button mat-icon-button (click)="doLogout()" class="logout"><i class="fas fa-power-off"></i></button>

      <mat-toolbar color="primary" class="header-toolbar">

        <mat-toolbar-row>
          <button (click)="sidenav.toggle()" fxShow="true" fxHide.gt-xs class="menu-mobile-button">
            <mat-icon fontSet="fas" fontIcon="fa-bars"></mat-icon>
          </button>
          <span class="menu-spacer" fxShow="true" fxHide.gt-xs></span>
          <h1>Sistema de Gestión de Videollamadas - SGV</h1>
          <button mat-icon-button routerLink="/" class="back" *ngIf="showBackButton"><i class="fas fa-reply"></i></button>
        </mat-toolbar-row>

      </mat-toolbar>

    </header>

    <mat-sidenav-container>

      <mat-sidenav #sidenav class="sidenav">
        <mat-nav-list>
          <a mat-list-item routerLink="/" (click)="sidenav.toggle()">Inicio</a>
          <!--  Ejemplo para menú lateral
          <a mat-list-item routerLinkActive="menu-mobile-active" (click)="configService.link('/consulta-personas', environment.IDROL_CONSULTA); sidenav.toggle()">Consulta de personas1</a>
          Ejemplo para menú lateral-->
          
          <a mat-list-item routerLinkActive="menu-mobile-active" (click)="sidenav.toggle(); doLogout()">Cerrar Sessión</a>
        </mat-nav-list>
      </mat-sidenav>

      <mat-sidenav-content class="content">









        
        <main class="main col-md-12 col-xl-10">
          <router-outlet></router-outlet>
        </main>

        <footer class="footer center">
          <div class="row logo center" *ngIf="router.url === '/' || router.url === '/consulta-personas' ">
            <img src="./assets/img/migraciones-logo-secondary.png" alt="Superintendencia Nacional de Migraciones">
          </div>
          <p>Copyright©2023<span *ngIf="currentYear>'2023'">-{{currentYear}}</span> Migraciones | Sistema de Gestión de Videollamadas - SGV</p>
        </footer>

      </mat-sidenav-content>

    </mat-sidenav-container>
  </div>
<!--  NO AUTENTICADO-->
  <div *ngIf="!isAuthenticated()">
    <header>
      <mat-toolbar color="primary" class="header-toolbar">
        <mat-toolbar-row>
          <span class="menu-spacer" fxShow="true" fxHide.gt-xs></span>
          <img src="./assets/img/migraciones-logo-secondary.png" height="50" class="logo" />
          <span class="menu-spacer" fxShow="true" fxHide.lt-md></span>
        </mat-toolbar-row>
      </mat-toolbar>
    </header>

    <mat-sidenav-container>
      <mat-sidenav-content class="content">
        <main class="main"><p>Upss...</p></main>
        <footer class="footer">
          <div class="row">
            <div class="col-sm-12 d-flex justify-content-center">Upss...</div>
          </div>
        </footer>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</div>
